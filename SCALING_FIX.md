# Исправление масштабирования столбцов

## Проблема
Столбцы отображались с неправильным масштабом. Например, при максимальной высоте 9 часов и запланированном времени 7 часов (66.67%), столбец отображался высотой только 2px вместо правильного процента.

## Причина
Конфликт между `minHeight: 2px` и `height: 66.67%` - CSS приоритизировал минимальную высоту в пикселях над процентным значением.

## Исправления

### 1. ✅ Убран конфликт единиц измерения
- Заменен `minHeight: 2px` на `minHeightPercent: 1%`
- Теперь все высоты рассчитываются в процентах
- Устранен конфликт между пикселями и процентами

### 2. ✅ Исправлена логика минимальной высоты
```javascript
// Было:
const minHeight = 2; // в пикселях
const actualHeight = Math.max(plannedHeight, plannedHeight > 0 ? minHeight : 0);

// Стало:
const minHeightPercent = 1; // в процентах
const actualHeight = Math.max(plannedHeight, plannedHeight > 0 ? minHeightPercent : 0);
```

### 3. ✅ Упрощены CSS стили
```css
/* Было: */
style={{ 
  height: `${actualPlannedHeight}%`,
  minHeight: `${minHeight}px`  /* Конфликт! */
}}

/* Стало: */
style={{ 
  height: `${actualPlannedHeight}%`  /* Только проценты */
}}
```

### 4. ✅ Улучшена отладочная информация
- Добавлены детальные расчеты в консоль
- Показывается соотношение значений к максимальному
- Добавлен пример расчета в видимой панели

## Результат

Теперь масштабирование работает правильно:

### Пример для недели 22.9-28.9:
- **Запланировано**: 7 часов
- **Максимальное значение**: 9 часов  
- **Расчет**: 7/9 = 77.78%
- **Отображение**: Столбец высотой 77.78% от максимальной высоты диаграммы

### Для недели с 4 часами:
- **Выполнено**: 4 часа
- **Максимальное значение**: 9 часов
- **Расчет**: 4/9 = 44.44%
- **Отображение**: Столбец высотой 44.44% от максимальной высоты диаграммы

## Технические детали

### Расчет высоты:
```javascript
const plannedHeight = maxValue > 0 ? (formatHours(week.planned_duration) / maxValue) * 100 : 0;
const actualPlannedHeight = Math.max(plannedHeight, plannedHeight > 0 ? 1 : 0); // минимум 1%
```

### CSS стили:
```css
style={{ height: `${actualPlannedHeight}%` }}
```

## Отладочная информация

Теперь в консоли отображается:
- Исходные значения в минутах и часах
- Максимальные значения
- Процентные соотношения
- Детальные расчеты

В видимой панели показывается:
- Максимальное значение в часах и минутах
- Пример расчета для первой недели
- Количество недель и другие метрики
