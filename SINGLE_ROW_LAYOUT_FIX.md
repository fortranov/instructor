# Исправление отображения столбцов в одну строку

## Проблема
Столбцы отображались в несколько строк на диаграмме, а должны быть в одну строку с меньшей шириной и разделением недель по месяцам.

## Исправления

### 1. ✅ Изменено отображение на одну строку
- Заменен CSS Grid на Flexbox для горизонтального отображения
- Добавлен `overflow-x-auto` для прокрутки при большом количестве недель
- Все столбцы теперь отображаются в одну строку

### 2. ✅ Уменьшена ширина столбцов
- Фиксированная ширина 20px для каждого столбца
- Добавлен `flex-shrink-0` для предотвращения сжатия
- Уменьшен gap между столбцами до 1px

### 3. ✅ Добавлено разделение недель по месяцам
- Вертикальные разделители между месяцами (красная линия)
- Названия месяцев под диаграммой
- Группировка недель по месяцам для правильного позиционирования

## Технические изменения

### CSS Layout:
```css
/* Было: grid grid-cols-12 */
/* Стало: */
.flex gap-1 h-64 items-end overflow-x-auto
```

### Ширина столбцов:
```css
width: 20px
flex-shrink-0
```

### Разделители месяцев:
```javascript
// Проверка смены месяца
const currentWeekMonth = new Date(week.week_start).getMonth();
const prevWeekMonth = index > 0 ? new Date(displayData[index - 1].week_start).getMonth() : null;
const showMonthDivider = prevWeekMonth !== null && currentWeekMonth !== prevWeekMonth;
```

### Группировка по месяцам:
```javascript
const monthlyGroups = useMemo(() => {
  const groups: { [key: string]: WeeklyStats[] } = {};
  
  weeklyData.forEach(week => {
    const weekStart = new Date(week.week_start);
    const monthKey = `${weekStart.getFullYear()}-${weekStart.getMonth()}`;
    
    if (!groups[monthKey]) {
      groups[monthKey] = [];
    }
    groups[monthKey].push(week);
  });
  
  return groups;
}, [weeklyData]);
```

## Результат

Теперь диаграмма:
- ✅ **Отображает все столбцы в одну строку**
- ✅ **Столбцы имеют меньшую ширину (20px)**
- ✅ **Горизонтальная прокрутка** при большом количестве недель
- ✅ **Вертикальные разделители** между месяцами
- ✅ **Названия месяцев** под диаграммой
- ✅ **Правильное позиционирование** названий месяцев

## Визуальные элементы

1. **Столбцы**: 20px ширина, в одну строку
2. **Разделители**: Красные вертикальные линии между месяцами
3. **Названия месяцев**: Под диаграммой, выровнены по группам недель
4. **Прокрутка**: Горизонтальная при необходимости

## Адаптивность

- **Десктоп**: Все недели в одну строку с прокруткой
- **Мобильные**: Все недели в одну строку с прокруткой (без ограничений)
- **Разделители**: Работают на всех устройствах
